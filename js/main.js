(()=>{(function(){[Element,Document,Window].forEach(e=>{e.prototype._addEventListener=e.prototype.addEventListener,e.prototype._removeEventListener=e.prototype.removeEventListener,e.prototype.addEventListener=e.prototype.on=function(t,s,o){this.__listeners__=this.__listeners__||{},this.__listeners__[t]=this.__listeners__[t]||[];for(let[r,i]of this.__listeners__[t])if(r===s&&JSON.stringify(i)===JSON.stringify(o))return this;return this.__listeners__[t].push([s,o]),this._addEventListener(t,s,o),this},e.prototype.removeEventListener=e.prototype.off=function(t,s,o){return!this.__listeners__||!this.__listeners__[t]?this:s?(this._removeEventListener(t,s,o),this.__listeners__[t]=this.__listeners__[t].filter(([r,i])=>r!==s||JSON.stringify(i)!==JSON.stringify(o)),this.__listeners__[t].length===0&&delete this.__listeners__[t],this):(this.__listeners__[t].forEach(([r,i])=>{this.removeEventListener(t,r,i)}),delete this.__listeners__[t],this)}}),window._$=e=>document.querySelector(e),window._$$=e=>document.querySelectorAll(e);let n=document.createElement("a");n.className="nav-icon dark-mode-btn",_$("#sub-nav").append(n);let d=window.matchMedia("(prefers-color-scheme: dark)").matches;function _(e){let s=e==="true"||e==="auto"&&d;document.documentElement.setAttribute("data-theme",s?"dark":null),localStorage.setItem("dark_mode",e),n.id=`nav-${e==="true"?"moon":e==="false"?"sun":"circle-half-stroke"}-btn`,document.body.dispatchEvent(new CustomEvent(`${s?"dark":"light"}-theme-set`))}let a=localStorage.getItem("dark_mode")||document.documentElement.getAttribute("data-theme-mode")||"auto";_(a),n.addEventListener("click",()=>{let e=["auto","false","true"],t=e[(e.indexOf(localStorage.getItem("dark_mode"))+1)%3];_(t)});let c=0;document.addEventListener("scroll",()=>{let e=document.documentElement.scrollTop||document.body.scrollTop,t=e-c;window.diffY=t,c=e,t<0?_$("#header-nav")?.classList.remove("header-nav-hidden"):_$("#header-nav")?.classList.add("header-nav-hidden")}),window.Pace&&Pace.on("done",()=>{Pace.sources[0].elements=[]})})();window.safeImport=async(n,d)=>{if(!d)return import(n);let a=await(await fetch(n)).text(),c=await crypto.subtle.digest("SHA-384",new TextEncoder().encode(a));if("sha384-"+btoa(String.fromCharCode(...new Uint8Array(c)))!==d)throw new Error(`Integrity check failed for ${n}`);let t=new Blob([a],{type:"application/javascript"}),s=URL.createObjectURL(t),o=await import(s);return URL.revokeObjectURL(s),o};})();
